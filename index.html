<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Launchpad MK2 Grid</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>Launchpad MK2 Grid: Sound + LED</h1>
  <p>Status: <span id="status">Click Start to Enable Audio</span></p>
  <button id="start">Start</button>
  <button id="reconnect">Reconnect Launchpad</button>
  <button id="allColors">All Colors</button>
  <button id="colorIndex">Color Index</button>
  <br>
  <div id="velocityControl" style="margin-top: 1em;">
    <button id="decrement">⬇</button>
    <input id="velocityValue" type="number" value="0" min="0" max="127" style="width: 60px;">
    <button id="increment">⬆</button>
  </div>
  <div class="grid" id="padGrid"></div>

  <script>
    /**
     * Flashes a semi-transparent overlay over the background briefly
     */
    function flashOverlay() {
      const overlay = document.createElement("div");
      overlay.style.position = "fixed";
      overlay.style.top = 0;
      overlay.style.left = 0;
      overlay.style.width = "100vw";
      overlay.style.height = "100vh";
      overlay.style.backgroundColor = "rgba(255, 255, 255, 0.25)";
      overlay.style.zIndex = 1000;
      overlay.style.pointerEvents = "none";
      overlay.style.transition = "opacity 0.2s ease";

      document.body.appendChild(overlay);

      // Trigger fade out
      requestAnimationFrame(() => {
        overlay.style.opacity = "0";
      });

      setTimeout(() => {
        document.body.removeChild(overlay);
      }, 300);
    }
  </script>

  <script src="scripts/soundMap.js"></script>
  <script src="scripts/gridUI.js"></script>
  <script src="scripts/buttonActions.js"></script>
  <script src="scripts/midiHandlers.js"></script>
  <script src="scripts/main.js"></script>
</body>

</html>